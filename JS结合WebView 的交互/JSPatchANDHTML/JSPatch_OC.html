<!DOCTYPE html>
<html>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" charset="utf-8"/>
    <head>
        <title>iOS and Js</title>
        <style type="text/css">
            * {
                font-size: 15px;
            }
        </style>
    </head>
    
    <body>
        
        <div style="margin-top: 20px">
            <h1>WKWebView</h1><br/>
            <div><input type="button" value="loadJavaScript" onclick="loadJavaScript()"></div>
            <br/>
            <div><input type="button" value="RunOCFunction" onclick="RunOCFunction()"></div>
        </div>
        <script type="text/javascript">
        function loadJavaScript() {
        var  callNativeJS = "require\('NativeViewController');\
    defineClass('JSPatchAndHTMLController',{\
   goSecondVC: function() {\
   var svc=NativeViewController.alloc().init();\
  self.presentViewController_animated_completion(svc,YES,null);\
  },});";

        window.webkit.messageHandlers.loadJavaScript.postMessage(callNativeJS);
            }
        function RunOCFunction() {
            window.webkit.messageHandlers.RunOCFunction.postMessage({function:"goSecondVC",parameters:{}})
        }
        
            </script>
        <div style="margin-top: 100px">
               使用HTML调用OC原声页面
        </div>

    </body>
</html>
